{% extends "base.html" %}
{% block title %}Productos{% endblock %}

{% block content %}

<h2 class="mb-4">
    {% if producto %}Editar Producto{% else %}Nuevo Producto{% endif %}
</h2>

<form method="POST">
    {% csrf_token %}

    <div class="mb-3">
        <label>Nombre</label>
        <input type="text" name="nombre" class="form-control"
               value="{{ producto.nombre|default:'' }}" required>
    </div>

    <div class="mb-3">
        <label>Precio</label>
        <input type="number" step="0.01" name="precio" class="form-control"
               value="{{ producto.precio|default:'' }}" required>
    </div>

    <div class="mb-3">
        <label>Categoría</label>
        <select name="categoria" class="form-control" required>
            <option value="">Seleccione...</option>
            {% for c in categorias %}
            <option value="{{ c.id }}"
                    {% if producto.categoria.id == c.id %}selected{% endif %}>
                {{ c.nombre }}
            </option>
            {% endfor %}
        </select>
    </div>

    <div class="mb-3">
        <label>Descripción</label>
        <textarea name="descripcion" class="form-control"
                  rows="3">{{ producto.descripcion|default:'' }}</textarea>
    </div>

    <button class="btn btn-success">Guardar</button>
    <a href="{% url 'productos_listado' %}" class="btn btn-secondary">Cancelar</a>

</form>

{% endblock %}
